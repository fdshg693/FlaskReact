# AIレビューガイド

このドキュメントでは、AIを活用したコードレビューの実施方法とベストプラクティスについて説明します。

---

## 🔍 AIレビューの実施方法

### 1. GitHub Copilot を使ったレビュー

#### インタラクティブレビュー

1. レビューしたいコードを選択
2. Copilot Chat を開く
3. レビュー観点を指定して指示

#### エージェントを使ったレビュー

レビューエージェントを選択した上で、以下のように指示します。
```
レビューを行なってください　target_directory=path/to/target/folder
```

スラッシュコマンドからプロンプトを与えて、プロンプトファイル内に記載されたタスクファイルを参照させることも可能です。

### 2. GitHub Copilot CLI を使った並列レビュー

大規模なコードベースを効率的にレビューするため、並列実行機能を使用します。

```bash
bash scripts/github_copilot/cli/scripts.sh scripts/github_copilot/cli/config/review.yml
```

### 3. PR ベースのレビュー

#### GitHub Actions による自動レビュー

PRを作成すると、自動的にAIレビューワークフローが実行されます。

#### ローカルでPRレビューを実行

```bash
bash scripts/ai_review/generate_pr.sh
```

---

## 💡 AI活用のベストプラクティス

### 1. コンテキストを限定する

大規模なコードベースでは、フォルダやモジュール単位でコンテキストを限定すると精度が向上します。

**良い例**:
```
src/llm/claude_custom/ モジュールのみをレビューしてください。
```

### 2. 具体的な観点を指定する

レビュー観点を明確にすることで、より有用なフィードバックが得られます。

**観点の例**:
- セキュリティ: APIキー、SQL injection、XSS
- パフォーマンス: ループ処理、データベースクエリ
- 可読性: 変数名、コメント、関数の分割

### 3. 段階的にレビューを実施

1. **構造レビュー**: アーキテクチャ、モジュール分割
2. **機能レビュー**: ロジック、エッジケース
3. **品質レビュー**: コーディング規約、テスト

---

## 🚀 自動化ワークフロー

### GitHub Actions ワークフロー

| ワークフロー | トリガー | 実行内容 |
|------------|---------|---------|
| **AI Review** | PR作成/更新、手動 | AIによるコードレビュー |
| **Tests** | Push、PR | pytest実行 |
| **Lint** | Push、PR | ruffによるチェック |

---

## 📚 関連ドキュメント

- [AI活用・自動化ガイド](../../project_overview/05_AI活用・自動化.md)
- [GitHub Copilot 活用方針](../github_copilot/README.md)
- [開発規約](../../dev_contract/00_INDEX.md)
