# コード品質

## 一般
コメントを書く。AIの英語生成のままも可、余裕があれば日本語に直す。  
DocStringを必ず書く。  
関数・クラスの命名はわかりやすく。  
長い関数・クラスは分割する。  
重複コードを避ける。共通化できる部分は関数・クラスにまとめる。  

## リファクタリング
定期的にコードを見直し、改善点があればリファクタリングを行う。
その際に、広報互換性などは基本的に無視でよく、徹底的に改善する。

とはいえ、全ての改善を一挙に行うのは大変であるため、適宜TODOコメントなどで改善点を残し、後でまとめて改善してもよい。

- TODOコメントの書き方例
種類は以下の通り。
```text
# TODO: 将来的に実装したい機能
# FIXME: 動作はするが修正が必要な問題
# HACK: 暫定的な実装（後でリファクタリング必要）
# XXX: 重大な問題、すぐに対応が必要
# NOTE: 重要な説明や注意事項
# OPTIMIZE: パフォーマンス改善の余地
```
具体的には以下のように、どのタイプで、どのくらいの優先度かを明示する。
```python
# TODO: 型アノテーションを追加する
# Priority: High/Medium/Low
```

## Python
- 型アノテーションを必ず付与する
- モダンな書き方・ライブラリを積極的に採用する
  - 例: f文字列, pathlib, dataclass, typer, rich, pydantic など
