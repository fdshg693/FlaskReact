# GitHub Copilot エージェント機能

エージェントは、特定の役割を持つカスタムAIアシスタントを定義する機能です。

---

## 📖 概要

### エージェントとは

エージェントは、以下を定義したカスタムAIアシスタントです：

- **役割（Role）**: エージェントの専門分野・担当領域
- **制約（Constraints）**: 守るべきルール・禁止事項
- **ワークフロー（Workflow）**: タスク実行の手順
- **利用ツール（Tools）**: 使用可能なツール（ファイル編集、検索など）

### 用途

- コードレビュー専門のエージェント
- ドキュメント生成専門のエージェント
- テストコード生成専門のエージェント
- 特定フレームワーク（React、Flaskなど）専門のエージェント

---

## 📁 ファイル仕様

### 配置場所

```
.github/agents/
└── {agent-name}.agent.md
```

> **注意**: `.github/agents/` 直下に配置する必要があります。サブフォルダは使用できません。

### ファイル名規則

```
{agent-name}.agent.md
```

**例**:
- `code-reviewer.agent.md`
- `doc-generator.agent.md`
- `test-writer.agent.md`

### 呼び出し方

1. **UIから選択**: Copilot Chat画面上部のドロップダウンから選択
2. **メンションで呼び出し**: チャット内で `@agent-name` と入力

---

## 📝 ファイル構成

### 基本構造

```markdown
---
description: エージェントの説明（UIに表示される）
tools: ['tool1', 'tool2']
---

# Role
エージェントの役割を記述

# Constraints
- 制約1
- 制約2

# Workflow
1. ステップ1
2. ステップ2
```

### フロントマター

YAMLフォーマットでメタデータを記述します。

| フィールド | 必須 | 説明 |
|-----------|------|------|
| `description` | ✅ | エージェントの説明 |
| `tools` | ❌ | 利用可能なツールのリスト |
| `outputs` | ❌ | 出力バリエーションの定義 |

**利用可能なツール例**:
- `edit`: ファイル編集
- `search`: コード検索
- `runCommands`: ターミナルコマンド実行
- `fetch`: Webページ取得

### フロントマター例

```yaml
---
description: コードレビュー専門エージェント
tools: ['edit', 'search']
outputs:
  - name: default
  - name: strict
    variables:
      strictness: high
---
```

### 本文構成

Markdown形式で役割・制約・ワークフローを記述します。

```markdown
# Role
あなたはPythonコードのレビューを専門とするエージェントです。
コーディング規約の遵守、セキュリティ、パフォーマンスの観点からレビューを行います。

# Constraints
- PEP 8準拠をチェックすること
- セキュリティリスクを見逃さないこと
- 具体的な改善案を提示すること

# Workflow
1. コードの全体構造を把握
2. 各関数・クラスを順にレビュー
3. 問題点と改善案をまとめて報告
```

---

## 💡 ベストプラクティス

### 1. 役割を明確に

エージェントの専門領域を絞ることで、より適切な応答が得られます。

**良い例**: 「Pythonコードのセキュリティレビュー専門」
**悪い例**: 「何でもできる万能エージェント」

### 2. 制約は具体的に

曖昧な制約ではなく、具体的なルールを記述します。

**良い例**: 「PEP 8に準拠すること」「型ヒントを必ず付けること」
**悪い例**: 「良いコードを書くこと」

### 3. ワークフローを段階的に

タスクの実行手順を明確にすることで、一貫した結果が得られます。

---

## 📚 関連ドキュメント

- [GitHub Copilot 概要](./README.md)
- [プロンプト機能](./prompts.md)
- [Instructions機能](./instructions.md)
