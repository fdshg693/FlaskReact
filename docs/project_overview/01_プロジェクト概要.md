# プロジェクト概要

## 🎯 プロジェクトの目的

画像解析、機械学習、LLMをブラウザから簡単に操作できる実験プロジェクトです。

### 主な特徴
- **学習と実験の両立**: 新しい技術やライブラリを試しながら、実用的なアプリケーションを構築
- **Web UI**: ブラウザから簡単にAI機能を操作可能
- **最小構成**: 必要最小限の構成で、理解しやすく拡張しやすい設計

---

## 🏗️ 技術スタック

### Backend
- **Flask**: メインのWebサーバー
- **Streamlit**: 単機能テスト・実験用の補助UI
- **Python 3.13**: 最新のPython機能を活用

### Frontend
- **React (CDN版)**: ビルド不要、直接JSX記述で最小構成
- **静的HTML**: Flask経由で配信

### AI/ML
- **LLM関連**:
  - Anthropic Claude (claude_custom)
  - OpenAI SDK (openai_sdk_custom)
  - LangChain (langchain_custom)
  - MCP (Model Context Protocol)
- **機械学習**:
  - 画像処理: PyTorch, OpenCV
  - 数値データ: scikit-learn, pandas

### 開発ツール
- **uv**: 依存関係管理・実行
- **ruff**: リント・フォーマット
- **mypy**: 型チェック
- **pytest**: テスト
- **pre-commit**: コミット前自動チェック
- **loguru**: ログ管理
- **pydantic**: データバリデーション

---
## 🏛️ プロジェクト構造

詳細は [../dev_contract/01_プロジェクト構造.md](../dev_contract/01_プロジェクト構造.md) を参照してください。

---

## 🎨 アーキテクチャ

### リクエストフロー

```
ブラウザ
    ↓
Flask Server (localhost:8000)
    ↓
Services層 (iris_service, pdf_service, etc.)
    ↓
├─→ ML Models (PyTorch, scikit-learn)
├─→ LLM API (Claude, OpenAI)
└─→ 画像処理 (OpenCV)
    ↓
データ保存 (data/outputs/)
```

### 主要コンポーネント

1. **サーバー層** (`src/server/`)
   - `flask_entry.py`: メインエントリポイント
   - `flask_react_app/`: Flaskアプリケーション定義
   - `streamlit/`: Streamlit実験用アプリ

2. **サービス層** (`src/services/`)
   - 各機能のビジネスロジックを実装
   - 例: `iris_service.py`, `image_service.py`, `pdf_service.py`

3. **LLM層** (`src/llm/`)
   - 各LLMライブラリのカスタムラッパー
   - プロンプト管理、レスポンス処理

4. **ML層** (`src/ml/`)
   - 画像処理、数値データ処理のモデル

5. **設定管理** (`src/config/`)
   - パス管理: `paths.py`
   - 設定ロード: `load_setting.py`

---

## 🔐 セキュリティ・設定管理

### 環境変数
- `.env.example` をコピーして `.env` を作成
- APIキー、シークレット情報を記載

### 機密情報の扱い
- `.env`: Git管理外（.gitignoreに追加済み）
- `*.example`: Git管理下（テンプレートとして共有）
- YAMLファイル: 同様に `.yaml.example` を提供

---

## 📊 データ管理

### データ配置ルール
```
data/
├── original_sources/     # 元データ
│   ├── llm/
│   │   ├── image/
│   │   ├── pdf/
│   │   └── text_documents/
│   └── ml/
│       ├── diabetes/
│       ├── image/
│       ├── iris/
│       └── others/
└── outputs/              # 処理結果
    └── ml/
        └── image/
```

詳細は [../dev_contract/03_データ管理.md](../dev_contract/03_データ管理.md) を参照してください。

---

## 🚀 クイックスタート

詳細は以下のドキュメントを参照してください：
- 環境構築: [02_開発環境セットアップ.md](./02_開発環境セットアップ.md)
- 実行方法: [03_アプリケーション実行方法.md](./03_アプリケーション実行方法.md)

```bash
# 1. 依存関係インストール
uv sync

# 2. 設定ファイル作成
cp .env.example .env
# .envを編集してAPIキーを設定

# 3. アプリケーション起動
uv run src/flask_entry.py
```

---

## 📖 関連ドキュメント

- **開発規約**: [../dev_contract/INDEX.md](../dev_contract/INDEX.md)
- **技術知識**: [../tech_knowledge/](../tech_knowledge/)
- **課題管理**: [../problems/INDEX.md](../problems/INDEX.md)
- **ルートREADME**: [../../README.md](../../README.md)
