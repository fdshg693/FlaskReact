# 開発環境セットアップ

このドキュメントでは、開発環境の構築手順を説明します。

---

## 📋 前提条件

### 必須
- **Python 3.13以上**
- **uv**: Python依存関係管理ツール
### 推奨
- **VSCode**: 推奨エディタ
- **Git**: バージョン管理

---

## 🚀 セットアップ手順

### 1. リポジトリのクローン

```bash
git clone <repository-url>
cd FlaskReact
```

### 2. 依存関係のインストール

```bash
uv sync
```

これにより以下が実行されます：
- 仮想環境の作成 (`.venv/`)
- `pyproject.toml`に基づく依存パッケージのインストール

### 3. 設定ファイルの作成

#### 環境変数（`.env`）

```bash
cp .env.example .env
```

`.env`ファイルを適当に編集して、APIキーなどの機密情報を設定してください。

#### 機械学習設定ファイル

MLモデルの設定ファイルを作成：

```bash
# 例: src/ml/配下の.yaml.exampleをコピー
cp src/ml/config.yaml.example src/ml/config.yaml
```

必要に応じて.exampleファイルをコピーして設定を行ってください。

---

## 🔧 VSCode設定

### 1. 設定ファイルのコピー

`.vscode/`フォルダ内のサンプルファイルをコピーして使用します。  
必要に応じて.exampleファイルをコピーして設定を行ってください。  

### 2. 推奨拡張機能のインストール

以下の拡張機能の利用を推奨します：

- **Python**: Python言語サポート
- **Pylance**: Python型チェック
- **Ruff**: Python リント・フォーマット
- **GitHub Copilot**: AI支援コーディング

## 🧪 動作確認

### 1. テストの実行

```bash
uv run pytest -q
```

すべてのテストがパスすることを確認してください。

### 2. Flaskアプリの起動

```bash
uv run src/flask_entry.py
```

ブラウザで `http://localhost:8000` にアクセスして、アプリが正常に起動することを確認。

### 3. Streamlitアプリの起動（任意）

```bash
uv run streamlit run src/server/streamlit/{your_app_name}.py --server.port=8501
```

ブラウザで `http://localhost:8501` にアクセス。

---

## 🛠️ 開発ツールの設定

### pre-commitの設定

コミット前に自動チェックを実行するためのフックを設定：

```bash
uv run pre-commit install
```

これにより、コミット時に以下が自動実行されます：
- コードフォーマット (Ruff)
- リント (Ruff)
- 型チェック (pyright+Pylance)
- トレイリングスペースの削除
- ファイル末尾の改行チェック

設定内容は `.pre-commit-config.yaml` を参照してください。

### Git設定

Git運用の詳細は [../dev_contract/06_Git運用.md](../dev_contract/06_Git運用.md) を参照してください。

---

## 📦 依存関係の管理
uvを使用して依存関係を管理します。

環境構築が完了したら、次のドキュメントを確認してください：

1. **アプリケーション実行**: [03_アプリケーション実行方法.md](./03_アプリケーション実行方法.md)
2. **スクリプト活用**: [04_スクリプト・ツール活用.md](./04_スクリプト・ツール活用.md)
3. **コーディング規約**: [../dev_contract/02_コーディング規約.md](../dev_contract/02_コーディング規約.md)
