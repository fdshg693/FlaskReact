# 品質・自動化に関する課題

コード品質、テスト、自動化に関する課題を管理します。

---

## QUA-001: MYPY の積極活用

| 項目 | 内容 |
|------|------|
| **ID** | QUA-001 |
| **優先度** | 高 |
| **ステータス** | 未着手 |

### 現状
MYPY をもっと積極的に活用できる余地がある。

### 改善案
- 全ファイルに対する MYPY チェックの実施
- 型アノテーションの追加
- CI/CD パイプラインへの MYPY 統合

#NOTE: 型アノテーションを段階的に導入すべき
理由: 一度に全てを対応しようとすると工数が膨大になる。重要なモジュールから順次対応することで効率的に品質向上できる

---

## QUA-002: import 文チェックスクリプト

| 項目 | 内容 |
|------|------|
| **ID** | QUA-002 |
| **優先度** | 中 |
| **ステータス** | 未着手 |

### 現状
import 系のエラーを事前に検出する仕組みがない。

### 改善案
- 全 import 文をチェックするスクリプトの作成
- MYPY・RUFF・PYLANCE などの既存ツールで対応可能であればそれを活用
- 基本的に SRC から順番に遡るだけなので、比較的簡単に作成可能

#NOTE: 既存ツール（MYPY/RUFF）で対応可能か先に調査すべき
理由: 車輪の再発明を避け、メンテナンスコストを抑えるため

---

## QUA-003: ドキュメント劣化チェック

| 項目 | 内容 |
|------|------|
| **ID** | QUA-003 |
| **優先度** | 中 |
| **ステータス** | 未着手 |

### 現状
ドキュメントが参照しているファイルが存在しなくなっても、検知する仕組みがない。

### 改善案
- ドキュメント下部などに関連ファイル一覧を記載
- スクリプト実行時にそれらのファイルの存在をチェック
- 存在しないファイルへの参照を警告

#NOTE: ドキュメント内のファイル参照形式を統一すべき
理由: 形式が統一されていないと、チェックスクリプトの実装が複雑になる

---

## QUA-004: .example ファイル整合性チェック

| 項目 | 内容 |
|------|------|
| **ID** | QUA-004 |
| **優先度** | 中 |
| **ステータス** | 未着手 |

### 現状
`.example` ファイル（例：`config.example.yaml`）の内容が実際のファイル（`config.yaml`）と乖離していないかをチェックする仕組みがない。

### 改善案
- `.example` ファイルと実際のファイルのキー構造を比較するスクリプト作成
- 差分がある場合に警告を出力
- CI/CD パイプラインに統合

#NOTE: キー構造の比較に留め、値の比較は行わないべき
理由: 値は環境によって異なることが前提なので、構造（キー）の一致のみを検証する

---

## 関連ドキュメント

- [INDEX.md](./INDEX.md) - 課題管理全体像
- [scripts/quality_check/](../../scripts/quality_check/) - 品質チェックスクリプト
- [pyproject.toml](../../pyproject.toml) - プロジェクト設定（MYPY 設定含む）
